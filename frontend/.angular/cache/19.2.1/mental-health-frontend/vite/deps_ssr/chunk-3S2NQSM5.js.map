{
  "version": 3,
  "sources": ["../../../../../../node_modules/@firebase/app-compat/dist/esm/index.esm2017.js", "../../../../../../node_modules/@firebase/auth/dist/node-esm/internal.js", "../../../../../../node_modules/@firebase/auth-compat/dist/esm/index.node.esm.js"],
  "sourcesContent": ["import { ErrorFactory, contains, deepExtend, createSubscribe, getGlobal } from '@firebase/util';\nimport { Component } from '@firebase/component';\nimport * as modularAPIs from '@firebase/app';\nimport { _addComponent, deleteApp, _DEFAULT_ENTRY_NAME, _addOrOverwriteComponent, registerVersion } from '@firebase/app';\nimport { Logger } from '@firebase/logger';\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Global context object for a collection of services using\n * a shared authentication state.\n *\n * marked as internal because it references internal types exported from @firebase/app\n * @internal\n */\nclass FirebaseAppImpl {\n  constructor(_delegate, firebase) {\n    this._delegate = _delegate;\n    this.firebase = firebase;\n    // add itself to container\n    _addComponent(_delegate, new Component('app-compat', () => this, \"PUBLIC\" /* ComponentType.PUBLIC */));\n    this.container = _delegate.container;\n  }\n  get automaticDataCollectionEnabled() {\n    return this._delegate.automaticDataCollectionEnabled;\n  }\n  set automaticDataCollectionEnabled(val) {\n    this._delegate.automaticDataCollectionEnabled = val;\n  }\n  get name() {\n    return this._delegate.name;\n  }\n  get options() {\n    return this._delegate.options;\n  }\n  delete() {\n    return new Promise(resolve => {\n      this._delegate.checkDestroyed();\n      resolve();\n    }).then(() => {\n      this.firebase.INTERNAL.removeApp(this.name);\n      return deleteApp(this._delegate);\n    });\n  }\n  /**\n   * Return a service instance associated with this app (creating it\n   * on demand), identified by the passed instanceIdentifier.\n   *\n   * NOTE: Currently storage and functions are the only ones that are leveraging this\n   * functionality. They invoke it by calling:\n   *\n   * ```javascript\n   * firebase.app().storage('STORAGE BUCKET ID')\n   * ```\n   *\n   * The service name is passed to this already\n   * @internal\n   */\n  _getService(name, instanceIdentifier = _DEFAULT_ENTRY_NAME) {\n    var _a;\n    this._delegate.checkDestroyed();\n    // Initialize instance if InstantiationMode is `EXPLICIT`.\n    const provider = this._delegate.container.getProvider(name);\n    if (!provider.isInitialized() && ((_a = provider.getComponent()) === null || _a === void 0 ? void 0 : _a.instantiationMode) === \"EXPLICIT\" /* InstantiationMode.EXPLICIT */) {\n      provider.initialize();\n    }\n    // getImmediate will always succeed because _getService is only called for registered components.\n    return provider.getImmediate({\n      identifier: instanceIdentifier\n    });\n  }\n  /**\n   * Remove a service instance from the cache, so we will create a new instance for this service\n   * when people try to get it again.\n   *\n   * NOTE: currently only firestore uses this functionality to support firestore shutdown.\n   *\n   * @param name The service name\n   * @param instanceIdentifier instance identifier in case multiple instances are allowed\n   * @internal\n   */\n  _removeServiceInstance(name, instanceIdentifier = _DEFAULT_ENTRY_NAME) {\n    this._delegate.container\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    .getProvider(name).clearInstance(instanceIdentifier);\n  }\n  /**\n   * @param component the component being added to this app's container\n   * @internal\n   */\n  _addComponent(component) {\n    _addComponent(this._delegate, component);\n  }\n  _addOrOverwriteComponent(component) {\n    _addOrOverwriteComponent(this._delegate, component);\n  }\n  toJSON() {\n    return {\n      name: this.name,\n      automaticDataCollectionEnabled: this.automaticDataCollectionEnabled,\n      options: this.options\n    };\n  }\n}\n// TODO: investigate why the following needs to be commented out\n// Prevent dead-code elimination of these methods w/o invalid property\n// copying.\n// (FirebaseAppImpl.prototype.name && FirebaseAppImpl.prototype.options) ||\n//   FirebaseAppImpl.prototype.delete ||\n//   console.log('dc');\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst ERRORS = {\n  [\"no-app\" /* AppError.NO_APP */]: \"No Firebase App '{$appName}' has been created - \" + 'call Firebase App.initializeApp()',\n  [\"invalid-app-argument\" /* AppError.INVALID_APP_ARGUMENT */]: 'firebase.{$appName}() takes either no argument or a ' + 'Firebase App instance.'\n};\nconst ERROR_FACTORY = new ErrorFactory('app-compat', 'Firebase', ERRORS);\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Because auth can't share code with other components, we attach the utility functions\n * in an internal namespace to share code.\n * This function return a firebase namespace object without\n * any utility functions, so it can be shared between the regular firebaseNamespace and\n * the lite version.\n */\nfunction createFirebaseNamespaceCore(firebaseAppImpl) {\n  const apps = {};\n  // // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  // const components = new Map<string, Component<any>>();\n  // A namespace is a plain JavaScript Object.\n  const namespace = {\n    // Hack to prevent Babel from modifying the object returned\n    // as the firebase namespace.\n    // @ts-ignore\n    __esModule: true,\n    initializeApp: initializeAppCompat,\n    // @ts-ignore\n    app,\n    registerVersion: modularAPIs.registerVersion,\n    setLogLevel: modularAPIs.setLogLevel,\n    onLog: modularAPIs.onLog,\n    // @ts-ignore\n    apps: null,\n    SDK_VERSION: modularAPIs.SDK_VERSION,\n    INTERNAL: {\n      registerComponent: registerComponentCompat,\n      removeApp,\n      useAsService,\n      modularAPIs\n    }\n  };\n  // Inject a circular default export to allow Babel users who were previously\n  // using:\n  //\n  //   import firebase from 'firebase';\n  //   which becomes: var firebase = require('firebase').default;\n  //\n  // instead of\n  //\n  //   import * as firebase from 'firebase';\n  //   which becomes: var firebase = require('firebase');\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  namespace['default'] = namespace;\n  // firebase.apps is a read-only getter.\n  Object.defineProperty(namespace, 'apps', {\n    get: getApps\n  });\n  /**\n   * Called by App.delete() - but before any services associated with the App\n   * are deleted.\n   */\n  function removeApp(name) {\n    delete apps[name];\n  }\n  /**\n   * Get the App object for a given name (or DEFAULT).\n   */\n  function app(name) {\n    name = name || modularAPIs._DEFAULT_ENTRY_NAME;\n    if (!contains(apps, name)) {\n      throw ERROR_FACTORY.create(\"no-app\" /* AppError.NO_APP */, {\n        appName: name\n      });\n    }\n    return apps[name];\n  }\n  // @ts-ignore\n  app['App'] = firebaseAppImpl;\n  /**\n   * Create a new App instance (name must be unique).\n   *\n   * This function is idempotent. It can be called more than once and return the same instance using the same options and config.\n   */\n  function initializeAppCompat(options, rawConfig = {}) {\n    const app = modularAPIs.initializeApp(options, rawConfig);\n    if (contains(apps, app.name)) {\n      return apps[app.name];\n    }\n    const appCompat = new firebaseAppImpl(app, namespace);\n    apps[app.name] = appCompat;\n    return appCompat;\n  }\n  /*\n   * Return an array of all the non-deleted FirebaseApps.\n   */\n  function getApps() {\n    // Make a copy so caller cannot mutate the apps list.\n    return Object.keys(apps).map(name => apps[name]);\n  }\n  function registerComponentCompat(component) {\n    const componentName = component.name;\n    const componentNameWithoutCompat = componentName.replace('-compat', '');\n    if (modularAPIs._registerComponent(component) && component.type === \"PUBLIC\" /* ComponentType.PUBLIC */) {\n      // create service namespace for public components\n      // The Service namespace is an accessor function ...\n      const serviceNamespace = (appArg = app()) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (typeof appArg[componentNameWithoutCompat] !== 'function') {\n          // Invalid argument.\n          // This happens in the following case: firebase.storage('gs:/')\n          throw ERROR_FACTORY.create(\"invalid-app-argument\" /* AppError.INVALID_APP_ARGUMENT */, {\n            appName: componentName\n          });\n        }\n        // Forward service instance lookup to the FirebaseApp.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return appArg[componentNameWithoutCompat]();\n      };\n      // ... and a container for service-level properties.\n      if (component.serviceProps !== undefined) {\n        deepExtend(serviceNamespace, component.serviceProps);\n      }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      namespace[componentNameWithoutCompat] = serviceNamespace;\n      // Patch the FirebaseAppImpl prototype\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      firebaseAppImpl.prototype[componentNameWithoutCompat] =\n      // TODO: The eslint disable can be removed and the 'ignoreRestArgs'\n      // option added to the no-explicit-any rule when ESlint releases it.\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      function (...args) {\n        const serviceFxn = this._getService.bind(this, componentName);\n        return serviceFxn.apply(this, component.multipleInstances ? args : []);\n      };\n    }\n    return component.type === \"PUBLIC\" /* ComponentType.PUBLIC */ ?\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    namespace[componentNameWithoutCompat] : null;\n  }\n  // Map the requested service to a registered service name\n  // (used to map auth to serverAuth service when needed).\n  function useAsService(app, name) {\n    if (name === 'serverAuth') {\n      return null;\n    }\n    const useService = name;\n    return useService;\n  }\n  return namespace;\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Return a firebase namespace object.\n *\n * In production, this will be called exactly once and the result\n * assigned to the 'firebase' global.  It may be called multiple times\n * in unit tests.\n */\nfunction createFirebaseNamespace() {\n  const namespace = createFirebaseNamespaceCore(FirebaseAppImpl);\n  namespace.INTERNAL = Object.assign(Object.assign({}, namespace.INTERNAL), {\n    createFirebaseNamespace,\n    extendNamespace,\n    createSubscribe,\n    ErrorFactory,\n    deepExtend\n  });\n  /**\n   * Patch the top-level firebase namespace with additional properties.\n   *\n   * firebase.INTERNAL.extendNamespace()\n   */\n  function extendNamespace(props) {\n    deepExtend(namespace, props);\n  }\n  return namespace;\n}\nconst firebase$1 = createFirebaseNamespace();\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst logger = new Logger('@firebase/app-compat');\nconst name = \"@firebase/app-compat\";\nconst version = \"0.2.51\";\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction registerCoreComponents(variant) {\n  // Register `app` package.\n  registerVersion(name, version, variant);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\ntry {\n  const globals = getGlobal();\n  // Firebase Lite detection\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  if (globals.firebase !== undefined) {\n    logger.warn(`\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    `);\n    // eslint-disable-next-line\n    const sdkVersion = globals.firebase.SDK_VERSION;\n    if (sdkVersion && sdkVersion.indexOf('LITE') >= 0) {\n      logger.warn(`\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        `);\n    }\n  }\n} catch (_a) {\n  // ignore errors thrown by getGlobal\n}\nconst firebase = firebase$1;\nregisterCoreComponents();\nexport { firebase as default };\n", "import { au as _getInstance, av as _assert, aw as _signInWithCredential, ax as _reauthenticate, ay as _link$1, L as AuthCredential, az as signInWithIdp, aA as _fail, aB as debugAssert, aC as _persistenceKeyName, aD as _serverAppCurrentUserOperationNotSupportedError, aE as _castAuth, aF as FederatedAuthProvider, aG as BaseOAuthProvider, aH as _emulatorUrl, aI as _performApiRequest, aJ as _isIOS, aK as _isAndroid, aL as _isIOS7Or8, aM as _createError, aN as _isMobileBrowser, aO as _isIE10 } from './totp-d5ff2369.js';\nexport { A as ActionCodeOperation, ai as ActionCodeURL, L as AuthCredential, I as AuthErrorCodes, aQ as AuthImpl, M as EmailAuthCredential, V as EmailAuthProvider, W as FacebookAuthProvider, F as FactorId, aS as FetchProvider, Y as GithubAuthProvider, X as GoogleAuthProvider, N as OAuthCredential, Z as OAuthProvider, O as OperationType, Q as PhoneAuthCredential, P as PhoneAuthProvider, m as PhoneMultiFactorGenerator, p as ProviderId, R as RecaptchaVerifier, aT as SAMLAuthCredential, _ as SAMLAuthProvider, S as SignInMethod, T as TotpMultiFactorGenerator, n as TotpSecret, $ as TwitterAuthProvider, aP as UserImpl, av as _assert, aE as _castAuth, aA as _fail, aR as _getClientVersion, au as _getInstance, aC as _persistenceKeyName, a7 as applyActionCode, x as beforeAuthStateChanged, b as browserLocalPersistence, k as browserPopupRedirectResolver, a as browserSessionPersistence, a8 as checkActionCode, a6 as confirmPasswordReset, K as connectAuthEmulator, aa as createUserWithEmailAndPassword, G as debugErrorMap, E as deleteUser, af as fetchSignInMethodsForEmail, aq as getAdditionalUserInfo, o as getAuth, an as getIdToken, ao as getIdTokenResult, as as getMultiFactorResolver, j as getRedirectResult, U as inMemoryPersistence, i as indexedDBLocalPersistence, J as initializeAuth, t as initializeRecaptchaConfig, ad as isSignInWithEmailLink, a2 as linkWithCredential, l as linkWithPhoneNumber, d as linkWithPopup, g as linkWithRedirect, at as multiFactor, y as onAuthStateChanged, w as onIdTokenChanged, aj as parseActionCodeURL, H as prodErrorMap, a3 as reauthenticateWithCredential, r as reauthenticateWithPhoneNumber, e as reauthenticateWithPopup, h as reauthenticateWithRedirect, ar as reload, D as revokeAccessToken, ag as sendEmailVerification, a5 as sendPasswordResetEmail, ac as sendSignInLinkToEmail, q as setPersistence, a0 as signInAnonymously, a1 as signInWithCredential, a4 as signInWithCustomToken, ab as signInWithEmailAndPassword, ae as signInWithEmailLink, s as signInWithPhoneNumber, c as signInWithPopup, f as signInWithRedirect, C as signOut, ap as unlink, B as updateCurrentUser, al as updateEmail, am as updatePassword, u as updatePhoneNumber, ak as updateProfile, z as useDeviceLanguage, v as validatePassword, ah as verifyBeforeUpdateEmail, a9 as verifyPasswordResetCode } from './totp-d5ff2369.js';\nimport { isEmpty, querystring, querystringDecode } from '@firebase/util';\nimport 'tslib';\nimport { _isFirebaseServerApp, SDK_VERSION } from '@firebase/app';\nimport '@firebase/component';\nimport '@firebase/logger';\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction _generateEventId(prefix = '', digits = 10) {\n  let random = '';\n  for (let i = 0; i < digits; i++) {\n    random += Math.floor(Math.random() * 10);\n  }\n  return prefix + random;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass AuthPopup {\n  constructor(window) {\n    this.window = window;\n    this.associatedEvent = null;\n  }\n  close() {\n    if (this.window) {\n      try {\n        this.window.close();\n      } catch (e) {}\n    }\n  }\n}\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Chooses a popup/redirect resolver to use. This prefers the override (which\n * is directly passed in), and falls back to the property set on the auth\n * object. If neither are available, this function errors w/ an argument error.\n */\nfunction _withDefaultResolver(auth, resolverOverride) {\n  if (resolverOverride) {\n    return _getInstance(resolverOverride);\n  }\n  _assert(auth._popupRedirectResolver, auth, \"argument-error\" /* AuthErrorCode.ARGUMENT_ERROR */);\n  return auth._popupRedirectResolver;\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass IdpCredential extends AuthCredential {\n  constructor(params) {\n    super(\"custom\" /* ProviderId.CUSTOM */, \"custom\" /* ProviderId.CUSTOM */);\n    this.params = params;\n  }\n  _getIdTokenResponse(auth) {\n    return signInWithIdp(auth, this._buildIdpRequest());\n  }\n  _linkToIdToken(auth, idToken) {\n    return signInWithIdp(auth, this._buildIdpRequest(idToken));\n  }\n  _getReauthenticationResolver(auth) {\n    return signInWithIdp(auth, this._buildIdpRequest());\n  }\n  _buildIdpRequest(idToken) {\n    const request = {\n      requestUri: this.params.requestUri,\n      sessionId: this.params.sessionId,\n      postBody: this.params.postBody,\n      tenantId: this.params.tenantId,\n      pendingToken: this.params.pendingToken,\n      returnSecureToken: true,\n      returnIdpCredential: true\n    };\n    if (idToken) {\n      request.idToken = idToken;\n    }\n    return request;\n  }\n}\nfunction _signIn(params) {\n  return _signInWithCredential(params.auth, new IdpCredential(params), params.bypassAuthState);\n}\nfunction _reauth(params) {\n  const {\n    auth,\n    user\n  } = params;\n  _assert(user, auth, \"internal-error\" /* AuthErrorCode.INTERNAL_ERROR */);\n  return _reauthenticate(user, new IdpCredential(params), params.bypassAuthState);\n}\nasync function _link(params) {\n  const {\n    auth,\n    user\n  } = params;\n  _assert(user, auth, \"internal-error\" /* AuthErrorCode.INTERNAL_ERROR */);\n  return _link$1(user, new IdpCredential(params), params.bypassAuthState);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Popup event manager. Handles the popup's entire lifecycle; listens to auth\n * events\n */\nclass AbstractPopupRedirectOperation {\n  constructor(auth, filter, resolver, user, bypassAuthState = false) {\n    this.auth = auth;\n    this.resolver = resolver;\n    this.user = user;\n    this.bypassAuthState = bypassAuthState;\n    this.pendingPromise = null;\n    this.eventManager = null;\n    this.filter = Array.isArray(filter) ? filter : [filter];\n  }\n  execute() {\n    return new Promise(async (resolve, reject) => {\n      this.pendingPromise = {\n        resolve,\n        reject\n      };\n      try {\n        this.eventManager = await this.resolver._initialize(this.auth);\n        await this.onExecution();\n        this.eventManager.registerConsumer(this);\n      } catch (e) {\n        this.reject(e);\n      }\n    });\n  }\n  async onAuthEvent(event) {\n    const {\n      urlResponse,\n      sessionId,\n      postBody,\n      tenantId,\n      error,\n      type\n    } = event;\n    if (error) {\n      this.reject(error);\n      return;\n    }\n    const params = {\n      auth: this.auth,\n      requestUri: urlResponse,\n      sessionId: sessionId,\n      tenantId: tenantId || undefined,\n      postBody: postBody || undefined,\n      user: this.user,\n      bypassAuthState: this.bypassAuthState\n    };\n    try {\n      this.resolve(await this.getIdpTask(type)(params));\n    } catch (e) {\n      this.reject(e);\n    }\n  }\n  onError(error) {\n    this.reject(error);\n  }\n  getIdpTask(type) {\n    switch (type) {\n      case \"signInViaPopup\" /* AuthEventType.SIGN_IN_VIA_POPUP */:\n      case \"signInViaRedirect\" /* AuthEventType.SIGN_IN_VIA_REDIRECT */:\n        return _signIn;\n      case \"linkViaPopup\" /* AuthEventType.LINK_VIA_POPUP */:\n      case \"linkViaRedirect\" /* AuthEventType.LINK_VIA_REDIRECT */:\n        return _link;\n      case \"reauthViaPopup\" /* AuthEventType.REAUTH_VIA_POPUP */:\n      case \"reauthViaRedirect\" /* AuthEventType.REAUTH_VIA_REDIRECT */:\n        return _reauth;\n      default:\n        _fail(this.auth, \"internal-error\" /* AuthErrorCode.INTERNAL_ERROR */);\n    }\n  }\n  resolve(cred) {\n    debugAssert(this.pendingPromise, 'Pending promise was never set');\n    this.pendingPromise.resolve(cred);\n    this.unregisterAndCleanUp();\n  }\n  reject(error) {\n    debugAssert(this.pendingPromise, 'Pending promise was never set');\n    this.pendingPromise.reject(error);\n    this.unregisterAndCleanUp();\n  }\n  unregisterAndCleanUp() {\n    if (this.eventManager) {\n      this.eventManager.unregisterConsumer(this);\n    }\n    this.pendingPromise = null;\n    this.cleanUp();\n  }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst PENDING_REDIRECT_KEY = 'pendingRedirect';\n// We only get one redirect outcome for any one auth, so just store it\n// in here.\nconst redirectOutcomeMap = new Map();\nclass RedirectAction extends AbstractPopupRedirectOperation {\n  constructor(auth, resolver, bypassAuthState = false) {\n    super(auth, [\"signInViaRedirect\" /* AuthEventType.SIGN_IN_VIA_REDIRECT */, \"linkViaRedirect\" /* AuthEventType.LINK_VIA_REDIRECT */, \"reauthViaRedirect\" /* AuthEventType.REAUTH_VIA_REDIRECT */, \"unknown\" /* AuthEventType.UNKNOWN */], resolver, undefined, bypassAuthState);\n    this.eventId = null;\n  }\n  /**\n   * Override the execute function; if we already have a redirect result, then\n   * just return it.\n   */\n  async execute() {\n    let readyOutcome = redirectOutcomeMap.get(this.auth._key());\n    if (!readyOutcome) {\n      try {\n        const hasPendingRedirect = await _getAndClearPendingRedirectStatus(this.resolver, this.auth);\n        const result = hasPendingRedirect ? await super.execute() : null;\n        readyOutcome = () => Promise.resolve(result);\n      } catch (e) {\n        readyOutcome = () => Promise.reject(e);\n      }\n      redirectOutcomeMap.set(this.auth._key(), readyOutcome);\n    }\n    // If we're not bypassing auth state, the ready outcome should be set to\n    // null.\n    if (!this.bypassAuthState) {\n      redirectOutcomeMap.set(this.auth._key(), () => Promise.resolve(null));\n    }\n    return readyOutcome();\n  }\n  async onAuthEvent(event) {\n    if (event.type === \"signInViaRedirect\" /* AuthEventType.SIGN_IN_VIA_REDIRECT */) {\n      return super.onAuthEvent(event);\n    } else if (event.type === \"unknown\" /* AuthEventType.UNKNOWN */) {\n      // This is a sentinel value indicating there's no pending redirect\n      this.resolve(null);\n      return;\n    }\n    if (event.eventId) {\n      const user = await this.auth._redirectUserForId(event.eventId);\n      if (user) {\n        this.user = user;\n        return super.onAuthEvent(event);\n      } else {\n        this.resolve(null);\n      }\n    }\n  }\n  async onExecution() {}\n  cleanUp() {}\n}\nasync function _getAndClearPendingRedirectStatus(resolver, auth) {\n  const key = pendingRedirectKey(auth);\n  const persistence = resolverPersistence(resolver);\n  if (!(await persistence._isAvailable())) {\n    return false;\n  }\n  const hasPendingRedirect = (await persistence._get(key)) === 'true';\n  await persistence._remove(key);\n  return hasPendingRedirect;\n}\nfunction _clearRedirectOutcomes() {\n  redirectOutcomeMap.clear();\n}\nfunction _overrideRedirectResult(auth, result) {\n  redirectOutcomeMap.set(auth._key(), result);\n}\nfunction resolverPersistence(resolver) {\n  return _getInstance(resolver._redirectPersistence);\n}\nfunction pendingRedirectKey(auth) {\n  return _persistenceKeyName(PENDING_REDIRECT_KEY, auth.config.apiKey, auth.name);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nasync function _getRedirectResult(auth, resolverExtern, bypassAuthState = false) {\n  if (_isFirebaseServerApp(auth.app)) {\n    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth));\n  }\n  const authInternal = _castAuth(auth);\n  const resolver = _withDefaultResolver(authInternal, resolverExtern);\n  const action = new RedirectAction(authInternal, resolver, bypassAuthState);\n  const result = await action.execute();\n  if (result && !bypassAuthState) {\n    delete result.user._redirectEventId;\n    await authInternal._persistUserIfCurrent(result.user);\n    await authInternal._setRedirectUser(null, resolverExtern);\n  }\n  return result;\n}\nconst STORAGE_AVAILABLE_KEY = '__sak';\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// There are two different browser persistence types: local and session.\n// Both have the same implementation but use a different underlying storage\n// object.\nclass BrowserPersistenceClass {\n  constructor(storageRetriever, type) {\n    this.storageRetriever = storageRetriever;\n    this.type = type;\n  }\n  _isAvailable() {\n    try {\n      if (!this.storage) {\n        return Promise.resolve(false);\n      }\n      this.storage.setItem(STORAGE_AVAILABLE_KEY, '1');\n      this.storage.removeItem(STORAGE_AVAILABLE_KEY);\n      return Promise.resolve(true);\n    } catch (_a) {\n      return Promise.resolve(false);\n    }\n  }\n  _set(key, value) {\n    this.storage.setItem(key, JSON.stringify(value));\n    return Promise.resolve();\n  }\n  _get(key) {\n    const json = this.storage.getItem(key);\n    return Promise.resolve(json ? JSON.parse(json) : null);\n  }\n  _remove(key) {\n    this.storage.removeItem(key);\n    return Promise.resolve();\n  }\n  get storage() {\n    return this.storageRetriever();\n  }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass BrowserSessionPersistence extends BrowserPersistenceClass {\n  constructor() {\n    super(() => window.sessionStorage, \"SESSION\" /* PersistenceType.SESSION */);\n  }\n  _addListener(_key, _listener) {\n    // Listeners are not supported for session storage since it cannot be shared across windows\n    return;\n  }\n  _removeListener(_key, _listener) {\n    // Listeners are not supported for session storage since it cannot be shared across windows\n    return;\n  }\n}\nBrowserSessionPersistence.type = 'SESSION';\n/**\n * An implementation of {@link Persistence} of `SESSION` using `sessionStorage`\n * for the underlying storage.\n *\n * @public\n */\nconst browserSessionPersistence = BrowserSessionPersistence;\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * URL for Authentication widget which will initiate the OAuth handshake\n *\n * @internal\n */\nconst WIDGET_PATH = '__/auth/handler';\n/**\n * URL for emulated environment\n *\n * @internal\n */\nconst EMULATOR_WIDGET_PATH = 'emulator/auth/handler';\n/**\n * Fragment name for the App Check token that gets passed to the widget\n *\n * @internal\n */\nconst FIREBASE_APP_CHECK_FRAGMENT_ID = encodeURIComponent('fac');\nasync function _getRedirectUrl(auth, provider, authType, redirectUrl, eventId, additionalParams) {\n  _assert(auth.config.authDomain, auth, \"auth-domain-config-required\" /* AuthErrorCode.MISSING_AUTH_DOMAIN */);\n  _assert(auth.config.apiKey, auth, \"invalid-api-key\" /* AuthErrorCode.INVALID_API_KEY */);\n  const params = {\n    apiKey: auth.config.apiKey,\n    appName: auth.name,\n    authType,\n    redirectUrl,\n    v: SDK_VERSION,\n    eventId\n  };\n  if (provider instanceof FederatedAuthProvider) {\n    provider.setDefaultLanguage(auth.languageCode);\n    params.providerId = provider.providerId || '';\n    if (!isEmpty(provider.getCustomParameters())) {\n      params.customParameters = JSON.stringify(provider.getCustomParameters());\n    }\n    // TODO set additionalParams from the provider as well?\n    for (const [key, value] of Object.entries(additionalParams || {})) {\n      params[key] = value;\n    }\n  }\n  if (provider instanceof BaseOAuthProvider) {\n    const scopes = provider.getScopes().filter(scope => scope !== '');\n    if (scopes.length > 0) {\n      params.scopes = scopes.join(',');\n    }\n  }\n  if (auth.tenantId) {\n    params.tid = auth.tenantId;\n  }\n  // TODO: maybe set eid as endpointId\n  // TODO: maybe set fw as Frameworks.join(\",\")\n  const paramsDict = params;\n  for (const key of Object.keys(paramsDict)) {\n    if (paramsDict[key] === undefined) {\n      delete paramsDict[key];\n    }\n  }\n  // Sets the App Check token to pass to the widget\n  const appCheckToken = await auth._getAppCheckToken();\n  const appCheckTokenFragment = appCheckToken ? `#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(appCheckToken)}` : '';\n  // Start at index 1 to skip the leading '&' in the query string\n  return `${getHandlerBase(auth)}?${querystring(paramsDict).slice(1)}${appCheckTokenFragment}`;\n}\nfunction getHandlerBase({\n  config\n}) {\n  if (!config.emulator) {\n    return `https://${config.authDomain}/${WIDGET_PATH}`;\n  }\n  return _emulatorUrl(config, EMULATOR_WIDGET_PATH);\n}\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction _cordovaWindow() {\n  return window;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nasync function _getProjectConfig(auth, request = {}) {\n  return _performApiRequest(auth, \"GET\" /* HttpMethod.GET */, \"/v1/projects\" /* Endpoint.GET_PROJECT_CONFIG */, request);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * How long to wait after the app comes back into focus before concluding that\n * the user closed the sign in tab.\n */\nconst REDIRECT_TIMEOUT_MS = 2000;\n/**\n * Generates the URL for the OAuth handler.\n */\nasync function _generateHandlerUrl(auth, event, provider) {\n  var _a;\n  // Get the cordova plugins\n  const {\n    BuildInfo\n  } = _cordovaWindow();\n  debugAssert(event.sessionId, 'AuthEvent did not contain a session ID');\n  const sessionDigest = await computeSha256(event.sessionId);\n  const additionalParams = {};\n  if (_isIOS()) {\n    // iOS app identifier\n    additionalParams['ibi'] = BuildInfo.packageName;\n  } else if (_isAndroid()) {\n    // Android app identifier\n    additionalParams['apn'] = BuildInfo.packageName;\n  } else {\n    _fail(auth, \"operation-not-supported-in-this-environment\" /* AuthErrorCode.OPERATION_NOT_SUPPORTED */);\n  }\n  // Add the display name if available\n  if (BuildInfo.displayName) {\n    additionalParams['appDisplayName'] = BuildInfo.displayName;\n  }\n  // Attached the hashed session ID\n  additionalParams['sessionId'] = sessionDigest;\n  return _getRedirectUrl(auth, provider, event.type, undefined, (_a = event.eventId) !== null && _a !== void 0 ? _a : undefined, additionalParams);\n}\n/**\n * Validates that this app is valid for this project configuration\n */\nasync function _validateOrigin(auth) {\n  const {\n    BuildInfo\n  } = _cordovaWindow();\n  const request = {};\n  if (_isIOS()) {\n    request.iosBundleId = BuildInfo.packageName;\n  } else if (_isAndroid()) {\n    request.androidPackageName = BuildInfo.packageName;\n  } else {\n    _fail(auth, \"operation-not-supported-in-this-environment\" /* AuthErrorCode.OPERATION_NOT_SUPPORTED */);\n  }\n  // Will fail automatically if package name is not authorized\n  await _getProjectConfig(auth, request);\n}\nfunction _performRedirect(handlerUrl) {\n  // Get the cordova plugins\n  const {\n    cordova\n  } = _cordovaWindow();\n  return new Promise(resolve => {\n    cordova.plugins.browsertab.isAvailable(browserTabIsAvailable => {\n      let iabRef = null;\n      if (browserTabIsAvailable) {\n        cordova.plugins.browsertab.openUrl(handlerUrl);\n      } else {\n        // TODO: Return the inappbrowser ref that's returned from the open call\n        iabRef = cordova.InAppBrowser.open(handlerUrl, _isIOS7Or8() ? '_blank' : '_system', 'location=yes');\n      }\n      resolve(iabRef);\n    });\n  });\n}\n/**\n * This function waits for app activity to be seen before resolving. It does\n * this by attaching listeners to various dom events. Once the app is determined\n * to be visible, this promise resolves. AFTER that resolution, the listeners\n * are detached and any browser tabs left open will be closed.\n */\nasync function _waitForAppResume(auth, eventListener, iabRef) {\n  // Get the cordova plugins\n  const {\n    cordova\n  } = _cordovaWindow();\n  let cleanup = () => {};\n  try {\n    await new Promise((resolve, reject) => {\n      let onCloseTimer = null;\n      // DEFINE ALL THE CALLBACKS =====\n      function authEventSeen() {\n        var _a;\n        // Auth event was detected. Resolve this promise and close the extra\n        // window if it's still open.\n        resolve();\n        const closeBrowserTab = (_a = cordova.plugins.browsertab) === null || _a === void 0 ? void 0 : _a.close;\n        if (typeof closeBrowserTab === 'function') {\n          closeBrowserTab();\n        }\n        // Close inappbrowser embedded webview in iOS7 and 8 case if still\n        // open.\n        if (typeof (iabRef === null || iabRef === void 0 ? void 0 : iabRef.close) === 'function') {\n          iabRef.close();\n        }\n      }\n      function resumed() {\n        if (onCloseTimer) {\n          // This code already ran; do not rerun.\n          return;\n        }\n        onCloseTimer = window.setTimeout(() => {\n          // Wait two seconds after resume then reject.\n          reject(_createError(auth, \"redirect-cancelled-by-user\" /* AuthErrorCode.REDIRECT_CANCELLED_BY_USER */));\n        }, REDIRECT_TIMEOUT_MS);\n      }\n      function visibilityChanged() {\n        if ((document === null || document === void 0 ? void 0 : document.visibilityState) === 'visible') {\n          resumed();\n        }\n      }\n      // ATTACH ALL THE LISTENERS =====\n      // Listen for the auth event\n      eventListener.addPassiveListener(authEventSeen);\n      // Listen for resume and visibility events\n      document.addEventListener('resume', resumed, false);\n      if (_isAndroid()) {\n        document.addEventListener('visibilitychange', visibilityChanged, false);\n      }\n      // SETUP THE CLEANUP FUNCTION =====\n      cleanup = () => {\n        eventListener.removePassiveListener(authEventSeen);\n        document.removeEventListener('resume', resumed, false);\n        document.removeEventListener('visibilitychange', visibilityChanged, false);\n        if (onCloseTimer) {\n          window.clearTimeout(onCloseTimer);\n        }\n      };\n    });\n  } finally {\n    cleanup();\n  }\n}\n/**\n * Checks the configuration of the Cordova environment. This has no side effect\n * if the configuration is correct; otherwise it throws an error with the\n * missing plugin.\n */\nfunction _checkCordovaConfiguration(auth) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n  const win = _cordovaWindow();\n  // Check all dependencies installed.\n  // https://github.com/nordnet/cordova-universal-links-plugin\n  // Note that cordova-universal-links-plugin has been abandoned.\n  // A fork with latest fixes is available at:\n  // https://www.npmjs.com/package/cordova-universal-links-plugin-fix\n  _assert(typeof ((_a = win === null || win === void 0 ? void 0 : win.universalLinks) === null || _a === void 0 ? void 0 : _a.subscribe) === 'function', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\n    missingPlugin: 'cordova-universal-links-plugin-fix'\n  });\n  // https://www.npmjs.com/package/cordova-plugin-buildinfo\n  _assert(typeof ((_b = win === null || win === void 0 ? void 0 : win.BuildInfo) === null || _b === void 0 ? void 0 : _b.packageName) !== 'undefined', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\n    missingPlugin: 'cordova-plugin-buildInfo'\n  });\n  // https://github.com/google/cordova-plugin-browsertab\n  _assert(typeof ((_e = (_d = (_c = win === null || win === void 0 ? void 0 : win.cordova) === null || _c === void 0 ? void 0 : _c.plugins) === null || _d === void 0 ? void 0 : _d.browsertab) === null || _e === void 0 ? void 0 : _e.openUrl) === 'function', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\n    missingPlugin: 'cordova-plugin-browsertab'\n  });\n  _assert(typeof ((_h = (_g = (_f = win === null || win === void 0 ? void 0 : win.cordova) === null || _f === void 0 ? void 0 : _f.plugins) === null || _g === void 0 ? void 0 : _g.browsertab) === null || _h === void 0 ? void 0 : _h.isAvailable) === 'function', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\n    missingPlugin: 'cordova-plugin-browsertab'\n  });\n  // https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-inappbrowser/\n  _assert(typeof ((_k = (_j = win === null || win === void 0 ? void 0 : win.cordova) === null || _j === void 0 ? void 0 : _j.InAppBrowser) === null || _k === void 0 ? void 0 : _k.open) === 'function', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\n    missingPlugin: 'cordova-plugin-inappbrowser'\n  });\n}\n/**\n * Computes the SHA-256 of a session ID. The SubtleCrypto interface is only\n * available in \"secure\" contexts, which covers Cordova (which is served on a file\n * protocol).\n */\nasync function computeSha256(sessionId) {\n  const bytes = stringToArrayBuffer(sessionId);\n  // TODO: For IE11 crypto has a different name and this operation comes back\n  //       as an object, not a promise. This is the old proposed standard that\n  //       is used by IE11:\n  // https://www.w3.org/TR/2013/WD-WebCryptoAPI-20130108/#cryptooperation-interface\n  const buf = await crypto.subtle.digest('SHA-256', bytes);\n  const arr = Array.from(new Uint8Array(buf));\n  return arr.map(num => num.toString(16).padStart(2, '0')).join('');\n}\nfunction stringToArrayBuffer(str) {\n  // This function is only meant to deal with an ASCII charset and makes\n  // certain simplifying assumptions.\n  debugAssert(/[0-9a-zA-Z]+/.test(str), 'Can only convert alpha-numeric strings');\n  if (typeof TextEncoder !== 'undefined') {\n    return new TextEncoder().encode(str);\n  }\n  const buff = new ArrayBuffer(str.length);\n  const view = new Uint8Array(buff);\n  for (let i = 0; i < str.length; i++) {\n    view[i] = str.charCodeAt(i);\n  }\n  return view;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// The amount of time to store the UIDs of seen events; this is\n// set to 10 min by default\nconst EVENT_DUPLICATION_CACHE_DURATION_MS = 10 * 60 * 1000;\nclass AuthEventManager {\n  constructor(auth) {\n    this.auth = auth;\n    this.cachedEventUids = new Set();\n    this.consumers = new Set();\n    this.queuedRedirectEvent = null;\n    this.hasHandledPotentialRedirect = false;\n    this.lastProcessedEventTime = Date.now();\n  }\n  registerConsumer(authEventConsumer) {\n    this.consumers.add(authEventConsumer);\n    if (this.queuedRedirectEvent && this.isEventForConsumer(this.queuedRedirectEvent, authEventConsumer)) {\n      this.sendToConsumer(this.queuedRedirectEvent, authEventConsumer);\n      this.saveEventToCache(this.queuedRedirectEvent);\n      this.queuedRedirectEvent = null;\n    }\n  }\n  unregisterConsumer(authEventConsumer) {\n    this.consumers.delete(authEventConsumer);\n  }\n  onEvent(event) {\n    // Check if the event has already been handled\n    if (this.hasEventBeenHandled(event)) {\n      return false;\n    }\n    let handled = false;\n    this.consumers.forEach(consumer => {\n      if (this.isEventForConsumer(event, consumer)) {\n        handled = true;\n        this.sendToConsumer(event, consumer);\n        this.saveEventToCache(event);\n      }\n    });\n    if (this.hasHandledPotentialRedirect || !isRedirectEvent(event)) {\n      // If we've already seen a redirect before, or this is a popup event,\n      // bail now\n      return handled;\n    }\n    this.hasHandledPotentialRedirect = true;\n    // If the redirect wasn't handled, hang on to it\n    if (!handled) {\n      this.queuedRedirectEvent = event;\n      handled = true;\n    }\n    return handled;\n  }\n  sendToConsumer(event, consumer) {\n    var _a;\n    if (event.error && !isNullRedirectEvent(event)) {\n      const code = ((_a = event.error.code) === null || _a === void 0 ? void 0 : _a.split('auth/')[1]) || \"internal-error\" /* AuthErrorCode.INTERNAL_ERROR */;\n      consumer.onError(_createError(this.auth, code));\n    } else {\n      consumer.onAuthEvent(event);\n    }\n  }\n  isEventForConsumer(event, consumer) {\n    const eventIdMatches = consumer.eventId === null || !!event.eventId && event.eventId === consumer.eventId;\n    return consumer.filter.includes(event.type) && eventIdMatches;\n  }\n  hasEventBeenHandled(event) {\n    if (Date.now() - this.lastProcessedEventTime >= EVENT_DUPLICATION_CACHE_DURATION_MS) {\n      this.cachedEventUids.clear();\n    }\n    return this.cachedEventUids.has(eventUid(event));\n  }\n  saveEventToCache(event) {\n    this.cachedEventUids.add(eventUid(event));\n    this.lastProcessedEventTime = Date.now();\n  }\n}\nfunction eventUid(e) {\n  return [e.type, e.eventId, e.sessionId, e.tenantId].filter(v => v).join('-');\n}\nfunction isNullRedirectEvent({\n  type,\n  error\n}) {\n  return type === \"unknown\" /* AuthEventType.UNKNOWN */ && (error === null || error === void 0 ? void 0 : error.code) === `auth/${\"no-auth-event\" /* AuthErrorCode.NO_AUTH_EVENT */}`;\n}\nfunction isRedirectEvent(event) {\n  switch (event.type) {\n    case \"signInViaRedirect\" /* AuthEventType.SIGN_IN_VIA_REDIRECT */:\n    case \"linkViaRedirect\" /* AuthEventType.LINK_VIA_REDIRECT */:\n    case \"reauthViaRedirect\" /* AuthEventType.REAUTH_VIA_REDIRECT */:\n      return true;\n    case \"unknown\" /* AuthEventType.UNKNOWN */:\n      return isNullRedirectEvent(event);\n    default:\n      return false;\n  }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// The polling period in case events are not supported\nconst _POLLING_INTERVAL_MS = 1000;\n// The IE 10 localStorage cross tab synchronization delay in milliseconds\nconst IE10_LOCAL_STORAGE_SYNC_DELAY = 10;\nclass BrowserLocalPersistence extends BrowserPersistenceClass {\n  constructor() {\n    super(() => window.localStorage, \"LOCAL\" /* PersistenceType.LOCAL */);\n    this.boundEventHandler = (event, poll) => this.onStorageEvent(event, poll);\n    this.listeners = {};\n    this.localCache = {};\n    // setTimeout return value is platform specific\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.pollTimer = null;\n    // Whether to use polling instead of depending on window events\n    this.fallbackToPolling = _isMobileBrowser();\n    this._shouldAllowMigration = true;\n  }\n  forAllChangedKeys(cb) {\n    // Check all keys with listeners on them.\n    for (const key of Object.keys(this.listeners)) {\n      // Get value from localStorage.\n      const newValue = this.storage.getItem(key);\n      const oldValue = this.localCache[key];\n      // If local map value does not match, trigger listener with storage event.\n      // Differentiate this simulated event from the real storage event.\n      if (newValue !== oldValue) {\n        cb(key, oldValue, newValue);\n      }\n    }\n  }\n  onStorageEvent(event, poll = false) {\n    // Key would be null in some situations, like when localStorage is cleared\n    if (!event.key) {\n      this.forAllChangedKeys((key, _oldValue, newValue) => {\n        this.notifyListeners(key, newValue);\n      });\n      return;\n    }\n    const key = event.key;\n    // Check the mechanism how this event was detected.\n    // The first event will dictate the mechanism to be used.\n    if (poll) {\n      // Environment detects storage changes via polling.\n      // Remove storage event listener to prevent possible event duplication.\n      this.detachListener();\n    } else {\n      // Environment detects storage changes via storage event listener.\n      // Remove polling listener to prevent possible event duplication.\n      this.stopPolling();\n    }\n    const triggerListeners = () => {\n      // Keep local map up to date in case storage event is triggered before\n      // poll.\n      const storedValue = this.storage.getItem(key);\n      if (!poll && this.localCache[key] === storedValue) {\n        // Real storage event which has already been detected, do nothing.\n        // This seems to trigger in some IE browsers for some reason.\n        return;\n      }\n      this.notifyListeners(key, storedValue);\n    };\n    const storedValue = this.storage.getItem(key);\n    if (_isIE10() && storedValue !== event.newValue && event.newValue !== event.oldValue) {\n      // IE 10 has this weird bug where a storage event would trigger with the\n      // correct key, oldValue and newValue but localStorage.getItem(key) does\n      // not yield the updated value until a few milliseconds. This ensures\n      // this recovers from that situation.\n      setTimeout(triggerListeners, IE10_LOCAL_STORAGE_SYNC_DELAY);\n    } else {\n      triggerListeners();\n    }\n  }\n  notifyListeners(key, value) {\n    this.localCache[key] = value;\n    const listeners = this.listeners[key];\n    if (listeners) {\n      for (const listener of Array.from(listeners)) {\n        listener(value ? JSON.parse(value) : value);\n      }\n    }\n  }\n  startPolling() {\n    this.stopPolling();\n    this.pollTimer = setInterval(() => {\n      this.forAllChangedKeys((key, oldValue, newValue) => {\n        this.onStorageEvent(new StorageEvent('storage', {\n          key,\n          oldValue,\n          newValue\n        }), /* poll */true);\n      });\n    }, _POLLING_INTERVAL_MS);\n  }\n  stopPolling() {\n    if (this.pollTimer) {\n      clearInterval(this.pollTimer);\n      this.pollTimer = null;\n    }\n  }\n  attachListener() {\n    window.addEventListener('storage', this.boundEventHandler);\n  }\n  detachListener() {\n    window.removeEventListener('storage', this.boundEventHandler);\n  }\n  _addListener(key, listener) {\n    if (Object.keys(this.listeners).length === 0) {\n      // Whether browser can detect storage event when it had already been pushed to the background.\n      // This may happen in some mobile browsers. A localStorage change in the foreground window\n      // will not be detected in the background window via the storage event.\n      // This was detected in iOS 7.x mobile browsers\n      if (this.fallbackToPolling) {\n        this.startPolling();\n      } else {\n        this.attachListener();\n      }\n    }\n    if (!this.listeners[key]) {\n      this.listeners[key] = new Set();\n      // Populate the cache to avoid spuriously triggering on first poll.\n      this.localCache[key] = this.storage.getItem(key);\n    }\n    this.listeners[key].add(listener);\n  }\n  _removeListener(key, listener) {\n    if (this.listeners[key]) {\n      this.listeners[key].delete(listener);\n      if (this.listeners[key].size === 0) {\n        delete this.listeners[key];\n      }\n    }\n    if (Object.keys(this.listeners).length === 0) {\n      this.detachListener();\n      this.stopPolling();\n    }\n  }\n  // Update local cache on base operations:\n  async _set(key, value) {\n    await super._set(key, value);\n    this.localCache[key] = JSON.stringify(value);\n  }\n  async _get(key) {\n    const value = await super._get(key);\n    this.localCache[key] = JSON.stringify(value);\n    return value;\n  }\n  async _remove(key) {\n    await super._remove(key);\n    delete this.localCache[key];\n  }\n}\nBrowserLocalPersistence.type = 'LOCAL';\n/**\n * An implementation of {@link Persistence} of type `LOCAL` using `localStorage`\n * for the underlying storage.\n *\n * @public\n */\nconst browserLocalPersistence = BrowserLocalPersistence;\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst SESSION_ID_LENGTH = 20;\n/** Custom AuthEventManager that adds passive listeners to events */\nclass CordovaAuthEventManager extends AuthEventManager {\n  constructor() {\n    super(...arguments);\n    this.passiveListeners = new Set();\n    this.initPromise = new Promise(resolve => {\n      this.resolveInitialized = resolve;\n    });\n  }\n  addPassiveListener(cb) {\n    this.passiveListeners.add(cb);\n  }\n  removePassiveListener(cb) {\n    this.passiveListeners.delete(cb);\n  }\n  // In a Cordova environment, this manager can live through multiple redirect\n  // operations\n  resetRedirect() {\n    this.queuedRedirectEvent = null;\n    this.hasHandledPotentialRedirect = false;\n  }\n  /** Override the onEvent method */\n  onEvent(event) {\n    this.resolveInitialized();\n    this.passiveListeners.forEach(cb => cb(event));\n    return super.onEvent(event);\n  }\n  async initialized() {\n    await this.initPromise;\n  }\n}\n/**\n * Generates a (partial) {@link AuthEvent}.\n */\nfunction _generateNewEvent(auth, type, eventId = null) {\n  return {\n    type,\n    eventId,\n    urlResponse: null,\n    sessionId: generateSessionId(),\n    postBody: null,\n    tenantId: auth.tenantId,\n    error: _createError(auth, \"no-auth-event\" /* AuthErrorCode.NO_AUTH_EVENT */)\n  };\n}\nfunction _savePartialEvent(auth, event) {\n  return storage()._set(persistenceKey(auth), event);\n}\nasync function _getAndRemoveEvent(auth) {\n  const event = await storage()._get(persistenceKey(auth));\n  if (event) {\n    await storage()._remove(persistenceKey(auth));\n  }\n  return event;\n}\nfunction _eventFromPartialAndUrl(partialEvent, url) {\n  var _a, _b;\n  // Parse the deep link within the dynamic link URL.\n  const callbackUrl = _getDeepLinkFromCallback(url);\n  // Confirm it is actually a callback URL.\n  // Currently the universal link will be of this format:\n  // https://<AUTH_DOMAIN>/__/auth/callback<OAUTH_RESPONSE>\n  // This is a fake URL but is not intended to take the user anywhere\n  // and just redirect to the app.\n  if (callbackUrl.includes('/__/auth/callback')) {\n    // Check if there is an error in the URL.\n    // This mechanism is also used to pass errors back to the app:\n    // https://<AUTH_DOMAIN>/__/auth/callback?firebaseError=<STRINGIFIED_ERROR>\n    const params = searchParamsOrEmpty(callbackUrl);\n    // Get the error object corresponding to the stringified error if found.\n    const errorObject = params['firebaseError'] ? parseJsonOrNull(decodeURIComponent(params['firebaseError'])) : null;\n    const code = (_b = (_a = errorObject === null || errorObject === void 0 ? void 0 : errorObject['code']) === null || _a === void 0 ? void 0 : _a.split('auth/')) === null || _b === void 0 ? void 0 : _b[1];\n    const error = code ? _createError(code) : null;\n    if (error) {\n      return {\n        type: partialEvent.type,\n        eventId: partialEvent.eventId,\n        tenantId: partialEvent.tenantId,\n        error,\n        urlResponse: null,\n        sessionId: null,\n        postBody: null\n      };\n    } else {\n      return {\n        type: partialEvent.type,\n        eventId: partialEvent.eventId,\n        tenantId: partialEvent.tenantId,\n        sessionId: partialEvent.sessionId,\n        urlResponse: callbackUrl,\n        postBody: null\n      };\n    }\n  }\n  return null;\n}\nfunction generateSessionId() {\n  const chars = [];\n  const allowedChars = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  for (let i = 0; i < SESSION_ID_LENGTH; i++) {\n    const idx = Math.floor(Math.random() * allowedChars.length);\n    chars.push(allowedChars.charAt(idx));\n  }\n  return chars.join('');\n}\nfunction storage() {\n  return _getInstance(browserLocalPersistence);\n}\nfunction persistenceKey(auth) {\n  return _persistenceKeyName(\"authEvent\" /* KeyName.AUTH_EVENT */, auth.config.apiKey, auth.name);\n}\nfunction parseJsonOrNull(json) {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return null;\n  }\n}\n// Exported for testing\nfunction _getDeepLinkFromCallback(url) {\n  const params = searchParamsOrEmpty(url);\n  const link = params['link'] ? decodeURIComponent(params['link']) : undefined;\n  // Double link case (automatic redirect)\n  const doubleDeepLink = searchParamsOrEmpty(link)['link'];\n  // iOS custom scheme links.\n  const iOSDeepLink = params['deep_link_id'] ? decodeURIComponent(params['deep_link_id']) : undefined;\n  const iOSDoubleDeepLink = searchParamsOrEmpty(iOSDeepLink)['link'];\n  return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;\n}\n/**\n * Optimistically tries to get search params from a string, or else returns an\n * empty search params object.\n */\nfunction searchParamsOrEmpty(url) {\n  if (!(url === null || url === void 0 ? void 0 : url.includes('?'))) {\n    return {};\n  }\n  const [_, ...rest] = url.split('?');\n  return querystringDecode(rest.join('?'));\n}\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * How long to wait for the initial auth event before concluding no\n * redirect pending\n */\nconst INITIAL_EVENT_TIMEOUT_MS = 500;\nclass CordovaPopupRedirectResolver {\n  constructor() {\n    this._redirectPersistence = browserSessionPersistence;\n    this._shouldInitProactively = true; // This is lightweight for Cordova\n    this.eventManagers = new Map();\n    this.originValidationPromises = {};\n    this._completeRedirectFn = _getRedirectResult;\n    this._overrideRedirectResult = _overrideRedirectResult;\n  }\n  async _initialize(auth) {\n    const key = auth._key();\n    let manager = this.eventManagers.get(key);\n    if (!manager) {\n      manager = new CordovaAuthEventManager(auth);\n      this.eventManagers.set(key, manager);\n      this.attachCallbackListeners(auth, manager);\n    }\n    return manager;\n  }\n  _openPopup(auth) {\n    _fail(auth, \"operation-not-supported-in-this-environment\" /* AuthErrorCode.OPERATION_NOT_SUPPORTED */);\n  }\n  async _openRedirect(auth, provider, authType, eventId) {\n    _checkCordovaConfiguration(auth);\n    const manager = await this._initialize(auth);\n    await manager.initialized();\n    // Reset the persisted redirect states. This does not matter on Web where\n    // the redirect always blows away application state entirely. On Cordova,\n    // the app maintains control flow through the redirect.\n    manager.resetRedirect();\n    _clearRedirectOutcomes();\n    await this._originValidation(auth);\n    const event = _generateNewEvent(auth, authType, eventId);\n    await _savePartialEvent(auth, event);\n    const url = await _generateHandlerUrl(auth, event, provider);\n    const iabRef = await _performRedirect(url);\n    return _waitForAppResume(auth, manager, iabRef);\n  }\n  _isIframeWebStorageSupported(_auth, _cb) {\n    throw new Error('Method not implemented.');\n  }\n  _originValidation(auth) {\n    const key = auth._key();\n    if (!this.originValidationPromises[key]) {\n      this.originValidationPromises[key] = _validateOrigin(auth);\n    }\n    return this.originValidationPromises[key];\n  }\n  attachCallbackListeners(auth, manager) {\n    // Get the global plugins\n    const {\n      universalLinks,\n      handleOpenURL,\n      BuildInfo\n    } = _cordovaWindow();\n    const noEventTimeout = setTimeout(async () => {\n      // We didn't see that initial event. Clear any pending object and\n      // dispatch no event\n      await _getAndRemoveEvent(auth);\n      manager.onEvent(generateNoEvent());\n    }, INITIAL_EVENT_TIMEOUT_MS);\n    const universalLinksCb = async eventData => {\n      // We have an event so we can clear the no event timeout\n      clearTimeout(noEventTimeout);\n      const partialEvent = await _getAndRemoveEvent(auth);\n      let finalEvent = null;\n      if (partialEvent && (eventData === null || eventData === void 0 ? void 0 : eventData['url'])) {\n        finalEvent = _eventFromPartialAndUrl(partialEvent, eventData['url']);\n      }\n      // If finalEvent is never filled, trigger with no event\n      manager.onEvent(finalEvent || generateNoEvent());\n    };\n    // Universal links subscriber doesn't exist for iOS, so we need to check\n    if (typeof universalLinks !== 'undefined' && typeof universalLinks.subscribe === 'function') {\n      universalLinks.subscribe(null, universalLinksCb);\n    }\n    // iOS 7 or 8 custom URL schemes.\n    // This is also the current default behavior for iOS 9+.\n    // For this to work, cordova-plugin-customurlscheme needs to be installed.\n    // https://github.com/EddyVerbruggen/Custom-URL-scheme\n    // Do not overwrite the existing developer's URL handler.\n    const existingHandleOpenURL = handleOpenURL;\n    const packagePrefix = `${BuildInfo.packageName.toLowerCase()}://`;\n    _cordovaWindow().handleOpenURL = async url => {\n      if (url.toLowerCase().startsWith(packagePrefix)) {\n        // We want this intentionally to float\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        universalLinksCb({\n          url\n        });\n      }\n      // Call the developer's handler if it is present.\n      if (typeof existingHandleOpenURL === 'function') {\n        try {\n          existingHandleOpenURL(url);\n        } catch (e) {\n          // This is a developer error. Don't stop the flow of the SDK.\n          console.error(e);\n        }\n      }\n    };\n  }\n}\n/**\n * An implementation of {@link PopupRedirectResolver} suitable for Cordova\n * based applications.\n *\n * @public\n */\nconst cordovaPopupRedirectResolver = CordovaPopupRedirectResolver;\nfunction generateNoEvent() {\n  return {\n    type: \"unknown\" /* AuthEventType.UNKNOWN */,\n    eventId: null,\n    sessionId: null,\n    urlResponse: null,\n    postBody: null,\n    tenantId: null,\n    error: _createError(\"no-auth-event\" /* AuthErrorCode.NO_AUTH_EVENT */)\n  };\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\n// It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it out\n// of autogenerated documentation pages to reduce accidental misuse.\nfunction addFrameworkForLogging(auth, framework) {\n  _castAuth(auth)._logFramework(framework);\n}\nexport { AuthPopup, _generateEventId, _getRedirectResult, _overrideRedirectResult, addFrameworkForLogging, cordovaPopupRedirectResolver };\n", "import firebase from '@firebase/app-compat';\nimport * as exp from '@firebase/auth/internal';\nimport { FetchProvider } from '@firebase/auth/internal';\nimport { Component } from '@firebase/component';\nimport { isBrowserExtension, getUA, isReactNative, isNode, isIndexedDBAvailable, isIE, FirebaseError } from '@firebase/util';\nvar name = \"@firebase/auth-compat\";\nvar version = \"0.5.19\";\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst CORDOVA_ONDEVICEREADY_TIMEOUT_MS = 1000;\nfunction _getCurrentScheme() {\n  var _a;\n  return ((_a = self === null || self === void 0 ? void 0 : self.location) === null || _a === void 0 ? void 0 : _a.protocol) || null;\n}\n/**\n * @return {boolean} Whether the current environment is http or https.\n */\nfunction _isHttpOrHttps() {\n  return _getCurrentScheme() === 'http:' || _getCurrentScheme() === 'https:';\n}\n/**\n * @param {?string=} ua The user agent.\n * @return {boolean} Whether the app is rendered in a mobile iOS or Android\n *     Cordova environment.\n */\nfunction _isAndroidOrIosCordovaScheme(ua = getUA()) {\n  return !!((_getCurrentScheme() === 'file:' || _getCurrentScheme() === 'ionic:' || _getCurrentScheme() === 'capacitor:') && ua.toLowerCase().match(/iphone|ipad|ipod|android/));\n}\n/**\n * @return {boolean} Whether the environment is a native environment, where\n *     CORS checks do not apply.\n */\nfunction _isNativeEnvironment() {\n  return isReactNative() || isNode();\n}\n/**\n * Checks whether the user agent is IE11.\n * @return {boolean} True if it is IE11.\n */\nfunction _isIe11() {\n  return isIE() && (document === null || document === void 0 ? void 0 : document.documentMode) === 11;\n}\n/**\n * Checks whether the user agent is Edge.\n * @param {string} userAgent The browser user agent string.\n * @return {boolean} True if it is Edge.\n */\nfunction _isEdge(ua = getUA()) {\n  return /Edge\\/\\d+/.test(ua);\n}\n/**\n * @param {?string=} opt_userAgent The navigator user agent.\n * @return {boolean} Whether local storage is not synchronized between an iframe\n *     and a popup of the same domain.\n */\nfunction _isLocalStorageNotSynchronized(ua = getUA()) {\n  return _isIe11() || _isEdge(ua);\n}\n/** @return {boolean} Whether web storage is supported. */\nfunction _isWebStorageSupported() {\n  try {\n    const storage = self.localStorage;\n    const key = exp._generateEventId();\n    if (storage) {\n      // setItem will throw an exception if we cannot access WebStorage (e.g.,\n      // Safari in private mode).\n      storage['setItem'](key, '1');\n      storage['removeItem'](key);\n      // For browsers where iframe web storage does not synchronize with a popup\n      // of the same domain, indexedDB is used for persistent storage. These\n      // browsers include IE11 and Edge.\n      // Make sure it is supported (IE11 and Edge private mode does not support\n      // that).\n      if (_isLocalStorageNotSynchronized()) {\n        // In such browsers, if indexedDB is not supported, an iframe cannot be\n        // notified of the popup sign in result.\n        return isIndexedDBAvailable();\n      }\n      return true;\n    }\n  } catch (e) {\n    // localStorage is not available from a worker. Test availability of\n    // indexedDB.\n    return _isWorker() && isIndexedDBAvailable();\n  }\n  return false;\n}\n/**\n * @param {?Object=} global The optional global scope.\n * @return {boolean} Whether current environment is a worker.\n */\nfunction _isWorker() {\n  // WorkerGlobalScope only defined in worker environment.\n  return typeof global !== 'undefined' && 'WorkerGlobalScope' in global && 'importScripts' in global;\n}\nfunction _isPopupRedirectSupported() {\n  return (_isHttpOrHttps() || isBrowserExtension() || _isAndroidOrIosCordovaScheme()) &&\n  // React Native with remote debugging reports its location.protocol as\n  // http.\n  !_isNativeEnvironment() &&\n  // Local storage has to be supported for browser popup and redirect\n  // operations to work.\n  _isWebStorageSupported() &&\n  // DOM, popups and redirects are not supported within a worker.\n  !_isWorker();\n}\n/** Quick check that indicates the platform *may* be Cordova */\nfunction _isLikelyCordova() {\n  return _isAndroidOrIosCordovaScheme() && typeof document !== 'undefined';\n}\nasync function _isCordova() {\n  if (!_isLikelyCordova()) {\n    return false;\n  }\n  return new Promise(resolve => {\n    const timeoutId = setTimeout(() => {\n      // We've waited long enough; the telltale Cordova event didn't happen\n      resolve(false);\n    }, CORDOVA_ONDEVICEREADY_TIMEOUT_MS);\n    document.addEventListener('deviceready', () => {\n      clearTimeout(timeoutId);\n      resolve(true);\n    });\n  });\n}\nfunction _getSelfWindow() {\n  return typeof window !== 'undefined' ? window : null;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst Persistence = {\n  LOCAL: 'local',\n  NONE: 'none',\n  SESSION: 'session'\n};\nconst _assert$3 = exp._assert;\nconst PERSISTENCE_KEY = 'persistence';\n/**\n * Validates that an argument is a valid persistence value. If an invalid type\n * is specified, an error is thrown synchronously.\n */\nfunction _validatePersistenceArgument(auth, persistence) {\n  _assert$3(Object.values(Persistence).includes(persistence), auth, \"invalid-persistence-type\" /* exp.AuthErrorCode.INVALID_PERSISTENCE */);\n  // Validate if the specified type is supported in the current environment.\n  if (isReactNative()) {\n    // This is only supported in a browser.\n    _assert$3(persistence !== Persistence.SESSION, auth, \"unsupported-persistence-type\" /* exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE */);\n    return;\n  }\n  if (isNode()) {\n    // Only none is supported in Node.js.\n    _assert$3(persistence === Persistence.NONE, auth, \"unsupported-persistence-type\" /* exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE */);\n    return;\n  }\n  if (_isWorker()) {\n    // In a worker environment, either LOCAL or NONE are supported.\n    // If indexedDB not supported and LOCAL provided, throw an error\n    _assert$3(persistence === Persistence.NONE || persistence === Persistence.LOCAL && isIndexedDBAvailable(), auth, \"unsupported-persistence-type\" /* exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE */);\n    return;\n  }\n  // This is restricted by what the browser supports.\n  _assert$3(persistence === Persistence.NONE || _isWebStorageSupported(), auth, \"unsupported-persistence-type\" /* exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE */);\n}\nasync function _savePersistenceForRedirect(auth) {\n  await auth._initializationPromise;\n  const session = getSessionStorageIfAvailable();\n  const key = exp._persistenceKeyName(PERSISTENCE_KEY, auth.config.apiKey, auth.name);\n  if (session) {\n    session.setItem(key, auth._getPersistence());\n  }\n}\nfunction _getPersistencesFromRedirect(apiKey, appName) {\n  const session = getSessionStorageIfAvailable();\n  if (!session) {\n    return [];\n  }\n  const key = exp._persistenceKeyName(PERSISTENCE_KEY, apiKey, appName);\n  const persistence = session.getItem(key);\n  switch (persistence) {\n    case Persistence.NONE:\n      return [exp.inMemoryPersistence];\n    case Persistence.LOCAL:\n      return [exp.indexedDBLocalPersistence, exp.browserSessionPersistence];\n    case Persistence.SESSION:\n      return [exp.browserSessionPersistence];\n    default:\n      return [];\n  }\n}\n/** Returns session storage, or null if the property access errors */\nfunction getSessionStorageIfAvailable() {\n  var _a;\n  try {\n    return ((_a = _getSelfWindow()) === null || _a === void 0 ? void 0 : _a.sessionStorage) || null;\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst _assert$2 = exp._assert;\n/** Platform-agnostic popup-redirect resolver */\nclass CompatPopupRedirectResolver {\n  constructor() {\n    // Create both resolvers for dynamic resolution later\n    this.browserResolver = exp._getInstance(exp.browserPopupRedirectResolver);\n    this.cordovaResolver = exp._getInstance(exp.cordovaPopupRedirectResolver);\n    // The actual resolver in use: either browserResolver or cordovaResolver.\n    this.underlyingResolver = null;\n    this._redirectPersistence = exp.browserSessionPersistence;\n    this._completeRedirectFn = exp._getRedirectResult;\n    this._overrideRedirectResult = exp._overrideRedirectResult;\n  }\n  async _initialize(auth) {\n    await this.selectUnderlyingResolver();\n    return this.assertedUnderlyingResolver._initialize(auth);\n  }\n  async _openPopup(auth, provider, authType, eventId) {\n    await this.selectUnderlyingResolver();\n    return this.assertedUnderlyingResolver._openPopup(auth, provider, authType, eventId);\n  }\n  async _openRedirect(auth, provider, authType, eventId) {\n    await this.selectUnderlyingResolver();\n    return this.assertedUnderlyingResolver._openRedirect(auth, provider, authType, eventId);\n  }\n  _isIframeWebStorageSupported(auth, cb) {\n    this.assertedUnderlyingResolver._isIframeWebStorageSupported(auth, cb);\n  }\n  _originValidation(auth) {\n    return this.assertedUnderlyingResolver._originValidation(auth);\n  }\n  get _shouldInitProactively() {\n    return _isLikelyCordova() || this.browserResolver._shouldInitProactively;\n  }\n  get assertedUnderlyingResolver() {\n    _assert$2(this.underlyingResolver, \"internal-error\" /* exp.AuthErrorCode.INTERNAL_ERROR */);\n    return this.underlyingResolver;\n  }\n  async selectUnderlyingResolver() {\n    if (this.underlyingResolver) {\n      return;\n    }\n    // We haven't yet determined whether or not we're in Cordova; go ahead\n    // and determine that state now.\n    const isCordova = await _isCordova();\n    this.underlyingResolver = isCordova ? this.cordovaResolver : this.browserResolver;\n  }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction unwrap(object) {\n  return object.unwrap();\n}\nfunction wrapped(object) {\n  return object.wrapped();\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction credentialFromResponse(userCredential) {\n  return credentialFromObject(userCredential);\n}\nfunction attachExtraErrorFields(auth, e) {\n  var _a;\n  // The response contains all fields from the server which may or may not\n  // actually match the underlying type\n  const response = (_a = e.customData) === null || _a === void 0 ? void 0 : _a._tokenResponse;\n  if ((e === null || e === void 0 ? void 0 : e.code) === 'auth/multi-factor-auth-required') {\n    const mfaErr = e;\n    mfaErr.resolver = new MultiFactorResolver(auth, exp.getMultiFactorResolver(auth, e));\n  } else if (response) {\n    const credential = credentialFromObject(e);\n    const credErr = e;\n    if (credential) {\n      credErr.credential = credential;\n      credErr.tenantId = response.tenantId || undefined;\n      credErr.email = response.email || undefined;\n      credErr.phoneNumber = response.phoneNumber || undefined;\n    }\n  }\n}\nfunction credentialFromObject(object) {\n  const {\n    _tokenResponse\n  } = object instanceof FirebaseError ? object.customData : object;\n  if (!_tokenResponse) {\n    return null;\n  }\n  // Handle phone Auth credential responses, as they have a different format\n  // from other backend responses (i.e. no providerId). This is also only the\n  // case for user credentials (does not work for errors).\n  if (!(object instanceof FirebaseError)) {\n    if ('temporaryProof' in _tokenResponse && 'phoneNumber' in _tokenResponse) {\n      return exp.PhoneAuthProvider.credentialFromResult(object);\n    }\n  }\n  const providerId = _tokenResponse.providerId;\n  // Email and password is not supported as there is no situation where the\n  // server would return the password to the client.\n  if (!providerId || providerId === exp.ProviderId.PASSWORD) {\n    return null;\n  }\n  let provider;\n  switch (providerId) {\n    case exp.ProviderId.GOOGLE:\n      provider = exp.GoogleAuthProvider;\n      break;\n    case exp.ProviderId.FACEBOOK:\n      provider = exp.FacebookAuthProvider;\n      break;\n    case exp.ProviderId.GITHUB:\n      provider = exp.GithubAuthProvider;\n      break;\n    case exp.ProviderId.TWITTER:\n      provider = exp.TwitterAuthProvider;\n      break;\n    default:\n      const {\n        oauthIdToken,\n        oauthAccessToken,\n        oauthTokenSecret,\n        pendingToken,\n        nonce\n      } = _tokenResponse;\n      if (!oauthAccessToken && !oauthTokenSecret && !oauthIdToken && !pendingToken) {\n        return null;\n      }\n      // TODO(avolkovi): uncomment this and get it working with SAML & OIDC\n      if (pendingToken) {\n        if (providerId.startsWith('saml.')) {\n          return exp.SAMLAuthCredential._create(providerId, pendingToken);\n        } else {\n          // OIDC and non-default providers excluding Twitter.\n          return exp.OAuthCredential._fromParams({\n            providerId,\n            signInMethod: providerId,\n            pendingToken,\n            idToken: oauthIdToken,\n            accessToken: oauthAccessToken\n          });\n        }\n      }\n      return new exp.OAuthProvider(providerId).credential({\n        idToken: oauthIdToken,\n        accessToken: oauthAccessToken,\n        rawNonce: nonce\n      });\n  }\n  return object instanceof FirebaseError ? provider.credentialFromError(object) : provider.credentialFromResult(object);\n}\nfunction convertCredential(auth, credentialPromise) {\n  return credentialPromise.catch(e => {\n    if (e instanceof FirebaseError) {\n      attachExtraErrorFields(auth, e);\n    }\n    throw e;\n  }).then(credential => {\n    const operationType = credential.operationType;\n    const user = credential.user;\n    return {\n      operationType,\n      credential: credentialFromResponse(credential),\n      additionalUserInfo: exp.getAdditionalUserInfo(credential),\n      user: User.getOrCreate(user)\n    };\n  });\n}\nasync function convertConfirmationResult(auth, confirmationResultPromise) {\n  const confirmationResultExp = await confirmationResultPromise;\n  return {\n    verificationId: confirmationResultExp.verificationId,\n    confirm: verificationCode => convertCredential(auth, confirmationResultExp.confirm(verificationCode))\n  };\n}\nclass MultiFactorResolver {\n  constructor(auth, resolver) {\n    this.resolver = resolver;\n    this.auth = wrapped(auth);\n  }\n  get session() {\n    return this.resolver.session;\n  }\n  get hints() {\n    return this.resolver.hints;\n  }\n  resolveSignIn(assertion) {\n    return convertCredential(unwrap(this.auth), this.resolver.resolveSignIn(assertion));\n  }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass User {\n  constructor(_delegate) {\n    this._delegate = _delegate;\n    this.multiFactor = exp.multiFactor(_delegate);\n  }\n  static getOrCreate(user) {\n    if (!User.USER_MAP.has(user)) {\n      User.USER_MAP.set(user, new User(user));\n    }\n    return User.USER_MAP.get(user);\n  }\n  delete() {\n    return this._delegate.delete();\n  }\n  reload() {\n    return this._delegate.reload();\n  }\n  toJSON() {\n    return this._delegate.toJSON();\n  }\n  getIdTokenResult(forceRefresh) {\n    return this._delegate.getIdTokenResult(forceRefresh);\n  }\n  getIdToken(forceRefresh) {\n    return this._delegate.getIdToken(forceRefresh);\n  }\n  linkAndRetrieveDataWithCredential(credential) {\n    return this.linkWithCredential(credential);\n  }\n  async linkWithCredential(credential) {\n    return convertCredential(this.auth, exp.linkWithCredential(this._delegate, credential));\n  }\n  async linkWithPhoneNumber(phoneNumber, applicationVerifier) {\n    return convertConfirmationResult(this.auth, exp.linkWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier));\n  }\n  async linkWithPopup(provider) {\n    return convertCredential(this.auth, exp.linkWithPopup(this._delegate, provider, CompatPopupRedirectResolver));\n  }\n  async linkWithRedirect(provider) {\n    await _savePersistenceForRedirect(exp._castAuth(this.auth));\n    return exp.linkWithRedirect(this._delegate, provider, CompatPopupRedirectResolver);\n  }\n  reauthenticateAndRetrieveDataWithCredential(credential) {\n    return this.reauthenticateWithCredential(credential);\n  }\n  async reauthenticateWithCredential(credential) {\n    return convertCredential(this.auth, exp.reauthenticateWithCredential(this._delegate, credential));\n  }\n  reauthenticateWithPhoneNumber(phoneNumber, applicationVerifier) {\n    return convertConfirmationResult(this.auth, exp.reauthenticateWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier));\n  }\n  reauthenticateWithPopup(provider) {\n    return convertCredential(this.auth, exp.reauthenticateWithPopup(this._delegate, provider, CompatPopupRedirectResolver));\n  }\n  async reauthenticateWithRedirect(provider) {\n    await _savePersistenceForRedirect(exp._castAuth(this.auth));\n    return exp.reauthenticateWithRedirect(this._delegate, provider, CompatPopupRedirectResolver);\n  }\n  sendEmailVerification(actionCodeSettings) {\n    return exp.sendEmailVerification(this._delegate, actionCodeSettings);\n  }\n  async unlink(providerId) {\n    await exp.unlink(this._delegate, providerId);\n    return this;\n  }\n  updateEmail(newEmail) {\n    return exp.updateEmail(this._delegate, newEmail);\n  }\n  updatePassword(newPassword) {\n    return exp.updatePassword(this._delegate, newPassword);\n  }\n  updatePhoneNumber(phoneCredential) {\n    return exp.updatePhoneNumber(this._delegate, phoneCredential);\n  }\n  updateProfile(profile) {\n    return exp.updateProfile(this._delegate, profile);\n  }\n  verifyBeforeUpdateEmail(newEmail, actionCodeSettings) {\n    return exp.verifyBeforeUpdateEmail(this._delegate, newEmail, actionCodeSettings);\n  }\n  get emailVerified() {\n    return this._delegate.emailVerified;\n  }\n  get isAnonymous() {\n    return this._delegate.isAnonymous;\n  }\n  get metadata() {\n    return this._delegate.metadata;\n  }\n  get phoneNumber() {\n    return this._delegate.phoneNumber;\n  }\n  get providerData() {\n    return this._delegate.providerData;\n  }\n  get refreshToken() {\n    return this._delegate.refreshToken;\n  }\n  get tenantId() {\n    return this._delegate.tenantId;\n  }\n  get displayName() {\n    return this._delegate.displayName;\n  }\n  get email() {\n    return this._delegate.email;\n  }\n  get photoURL() {\n    return this._delegate.photoURL;\n  }\n  get providerId() {\n    return this._delegate.providerId;\n  }\n  get uid() {\n    return this._delegate.uid;\n  }\n  get auth() {\n    return this._delegate.auth;\n  }\n}\n// Maintain a map so that there's always a 1:1 mapping between new User and\n// legacy compat users\nUser.USER_MAP = new WeakMap();\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst _assert$1 = exp._assert;\nclass Auth {\n  constructor(app, provider) {\n    this.app = app;\n    if (provider.isInitialized()) {\n      this._delegate = provider.getImmediate();\n      this.linkUnderlyingAuth();\n      return;\n    }\n    const {\n      apiKey\n    } = app.options;\n    // TODO: platform needs to be determined using heuristics\n    _assert$1(apiKey, \"invalid-api-key\" /* exp.AuthErrorCode.INVALID_API_KEY */, {\n      appName: app.name\n    });\n    // TODO: platform needs to be determined using heuristics\n    _assert$1(apiKey, \"invalid-api-key\" /* exp.AuthErrorCode.INVALID_API_KEY */, {\n      appName: app.name\n    });\n    // Only use a popup/redirect resolver in browser environments\n    const resolver = typeof window !== 'undefined' ? CompatPopupRedirectResolver : undefined;\n    this._delegate = provider.initialize({\n      options: {\n        persistence: buildPersistenceHierarchy(apiKey, app.name),\n        popupRedirectResolver: resolver\n      }\n    });\n    this._delegate._updateErrorMap(exp.debugErrorMap);\n    this.linkUnderlyingAuth();\n  }\n  get emulatorConfig() {\n    return this._delegate.emulatorConfig;\n  }\n  get currentUser() {\n    if (!this._delegate.currentUser) {\n      return null;\n    }\n    return User.getOrCreate(this._delegate.currentUser);\n  }\n  get languageCode() {\n    return this._delegate.languageCode;\n  }\n  set languageCode(languageCode) {\n    this._delegate.languageCode = languageCode;\n  }\n  get settings() {\n    return this._delegate.settings;\n  }\n  get tenantId() {\n    return this._delegate.tenantId;\n  }\n  set tenantId(tid) {\n    this._delegate.tenantId = tid;\n  }\n  useDeviceLanguage() {\n    this._delegate.useDeviceLanguage();\n  }\n  signOut() {\n    return this._delegate.signOut();\n  }\n  useEmulator(url, options) {\n    exp.connectAuthEmulator(this._delegate, url, options);\n  }\n  applyActionCode(code) {\n    return exp.applyActionCode(this._delegate, code);\n  }\n  checkActionCode(code) {\n    return exp.checkActionCode(this._delegate, code);\n  }\n  confirmPasswordReset(code, newPassword) {\n    return exp.confirmPasswordReset(this._delegate, code, newPassword);\n  }\n  async createUserWithEmailAndPassword(email, password) {\n    return convertCredential(this._delegate, exp.createUserWithEmailAndPassword(this._delegate, email, password));\n  }\n  fetchProvidersForEmail(email) {\n    return this.fetchSignInMethodsForEmail(email);\n  }\n  fetchSignInMethodsForEmail(email) {\n    return exp.fetchSignInMethodsForEmail(this._delegate, email);\n  }\n  isSignInWithEmailLink(emailLink) {\n    return exp.isSignInWithEmailLink(this._delegate, emailLink);\n  }\n  async getRedirectResult() {\n    _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\" /* exp.AuthErrorCode.OPERATION_NOT_SUPPORTED */);\n    const credential = await exp.getRedirectResult(this._delegate, CompatPopupRedirectResolver);\n    if (!credential) {\n      return {\n        credential: null,\n        user: null\n      };\n    }\n    return convertCredential(this._delegate, Promise.resolve(credential));\n  }\n  // This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\n  // It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it\n  // out of autogenerated documentation pages to reduce accidental misuse.\n  addFrameworkForLogging(framework) {\n    exp.addFrameworkForLogging(this._delegate, framework);\n  }\n  onAuthStateChanged(nextOrObserver, errorFn, completed) {\n    const {\n      next,\n      error,\n      complete\n    } = wrapObservers(nextOrObserver, errorFn, completed);\n    return this._delegate.onAuthStateChanged(next, error, complete);\n  }\n  onIdTokenChanged(nextOrObserver, errorFn, completed) {\n    const {\n      next,\n      error,\n      complete\n    } = wrapObservers(nextOrObserver, errorFn, completed);\n    return this._delegate.onIdTokenChanged(next, error, complete);\n  }\n  sendSignInLinkToEmail(email, actionCodeSettings) {\n    return exp.sendSignInLinkToEmail(this._delegate, email, actionCodeSettings);\n  }\n  sendPasswordResetEmail(email, actionCodeSettings) {\n    return exp.sendPasswordResetEmail(this._delegate, email, actionCodeSettings || undefined);\n  }\n  async setPersistence(persistence) {\n    _validatePersistenceArgument(this._delegate, persistence);\n    let converted;\n    switch (persistence) {\n      case Persistence.SESSION:\n        converted = exp.browserSessionPersistence;\n        break;\n      case Persistence.LOCAL:\n        // Not using isIndexedDBAvailable() since it only checks if indexedDB is defined.\n        const isIndexedDBFullySupported = await exp._getInstance(exp.indexedDBLocalPersistence)._isAvailable();\n        converted = isIndexedDBFullySupported ? exp.indexedDBLocalPersistence : exp.browserLocalPersistence;\n        break;\n      case Persistence.NONE:\n        converted = exp.inMemoryPersistence;\n        break;\n      default:\n        return exp._fail(\"argument-error\" /* exp.AuthErrorCode.ARGUMENT_ERROR */, {\n          appName: this._delegate.name\n        });\n    }\n    return this._delegate.setPersistence(converted);\n  }\n  signInAndRetrieveDataWithCredential(credential) {\n    return this.signInWithCredential(credential);\n  }\n  signInAnonymously() {\n    return convertCredential(this._delegate, exp.signInAnonymously(this._delegate));\n  }\n  signInWithCredential(credential) {\n    return convertCredential(this._delegate, exp.signInWithCredential(this._delegate, credential));\n  }\n  signInWithCustomToken(token) {\n    return convertCredential(this._delegate, exp.signInWithCustomToken(this._delegate, token));\n  }\n  signInWithEmailAndPassword(email, password) {\n    return convertCredential(this._delegate, exp.signInWithEmailAndPassword(this._delegate, email, password));\n  }\n  signInWithEmailLink(email, emailLink) {\n    return convertCredential(this._delegate, exp.signInWithEmailLink(this._delegate, email, emailLink));\n  }\n  signInWithPhoneNumber(phoneNumber, applicationVerifier) {\n    return convertConfirmationResult(this._delegate, exp.signInWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier));\n  }\n  async signInWithPopup(provider) {\n    _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\" /* exp.AuthErrorCode.OPERATION_NOT_SUPPORTED */);\n    return convertCredential(this._delegate, exp.signInWithPopup(this._delegate, provider, CompatPopupRedirectResolver));\n  }\n  async signInWithRedirect(provider) {\n    _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\" /* exp.AuthErrorCode.OPERATION_NOT_SUPPORTED */);\n    await _savePersistenceForRedirect(this._delegate);\n    return exp.signInWithRedirect(this._delegate, provider, CompatPopupRedirectResolver);\n  }\n  updateCurrentUser(user) {\n    // remove ts-ignore once overloads are defined for exp functions to accept compat objects\n    // @ts-ignore\n    return this._delegate.updateCurrentUser(user);\n  }\n  verifyPasswordResetCode(code) {\n    return exp.verifyPasswordResetCode(this._delegate, code);\n  }\n  unwrap() {\n    return this._delegate;\n  }\n  _delete() {\n    return this._delegate._delete();\n  }\n  linkUnderlyingAuth() {\n    this._delegate.wrapped = () => this;\n  }\n}\nAuth.Persistence = Persistence;\nfunction wrapObservers(nextOrObserver, error, complete) {\n  let next = nextOrObserver;\n  if (typeof nextOrObserver !== 'function') {\n    ({\n      next,\n      error,\n      complete\n    } = nextOrObserver);\n  }\n  // We know 'next' is now a function\n  const oldNext = next;\n  const newNext = user => oldNext(user && User.getOrCreate(user));\n  return {\n    next: newNext,\n    error: error,\n    complete\n  };\n}\nfunction buildPersistenceHierarchy(apiKey, appName) {\n  // Note this is slightly different behavior: in this case, the stored\n  // persistence is checked *first* rather than last. This is because we want\n  // to prefer stored persistence type in the hierarchy. This is an empty\n  // array if window is not available or there is no pending redirect\n  const persistences = _getPersistencesFromRedirect(apiKey, appName);\n  // If \"self\" is available, add indexedDB\n  if (typeof self !== 'undefined' && !persistences.includes(exp.indexedDBLocalPersistence)) {\n    persistences.push(exp.indexedDBLocalPersistence);\n  }\n  // If \"window\" is available, add HTML Storage persistences\n  if (typeof window !== 'undefined') {\n    for (const persistence of [exp.browserLocalPersistence, exp.browserSessionPersistence]) {\n      if (!persistences.includes(persistence)) {\n        persistences.push(persistence);\n      }\n    }\n  }\n  // Add in-memory as a final fallback\n  if (!persistences.includes(exp.inMemoryPersistence)) {\n    persistences.push(exp.inMemoryPersistence);\n  }\n  return persistences;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass PhoneAuthProvider {\n  static credential(verificationId, verificationCode) {\n    return exp.PhoneAuthProvider.credential(verificationId, verificationCode);\n  }\n  constructor() {\n    this.providerId = 'phone';\n    // TODO: remove ts-ignore when moving types from auth-types to auth-compat\n    // @ts-ignore\n    this._delegate = new exp.PhoneAuthProvider(unwrap(firebase.auth()));\n  }\n  verifyPhoneNumber(phoneInfoOptions, applicationVerifier) {\n    return this._delegate.verifyPhoneNumber(\n    // The implementation matches but the types are subtly incompatible\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    phoneInfoOptions, applicationVerifier);\n  }\n  unwrap() {\n    return this._delegate;\n  }\n}\nPhoneAuthProvider.PHONE_SIGN_IN_METHOD = exp.PhoneAuthProvider.PHONE_SIGN_IN_METHOD;\nPhoneAuthProvider.PROVIDER_ID = exp.PhoneAuthProvider.PROVIDER_ID;\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst _assert = exp._assert;\nclass RecaptchaVerifier {\n  constructor(container, parameters, app = firebase.app()) {\n    var _a;\n    // API key is required for web client RPC calls.\n    _assert((_a = app.options) === null || _a === void 0 ? void 0 : _a.apiKey, \"invalid-api-key\" /* exp.AuthErrorCode.INVALID_API_KEY */, {\n      appName: app.name\n    });\n    this._delegate = new exp.RecaptchaVerifier(\n    // TODO: remove ts-ignore when moving types from auth-types to auth-compat\n    // @ts-ignore\n    app.auth(), container,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parameters);\n    this.type = this._delegate.type;\n  }\n  clear() {\n    this._delegate.clear();\n  }\n  render() {\n    return this._delegate.render();\n  }\n  verify() {\n    return this._delegate.verify();\n  }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst AUTH_TYPE = 'auth-compat';\n// Create auth components to register with firebase.\n// Provides Auth public APIs.\nfunction registerAuthCompat(instance) {\n  instance.INTERNAL.registerComponent(new Component(AUTH_TYPE, container => {\n    // getImmediate for FirebaseApp will always succeed\n    const app = container.getProvider('app-compat').getImmediate();\n    const authProvider = container.getProvider('auth');\n    return new Auth(app, authProvider);\n  }, \"PUBLIC\" /* ComponentType.PUBLIC */).setServiceProps({\n    ActionCodeInfo: {\n      Operation: {\n        EMAIL_SIGNIN: exp.ActionCodeOperation.EMAIL_SIGNIN,\n        PASSWORD_RESET: exp.ActionCodeOperation.PASSWORD_RESET,\n        RECOVER_EMAIL: exp.ActionCodeOperation.RECOVER_EMAIL,\n        REVERT_SECOND_FACTOR_ADDITION: exp.ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,\n        VERIFY_AND_CHANGE_EMAIL: exp.ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,\n        VERIFY_EMAIL: exp.ActionCodeOperation.VERIFY_EMAIL\n      }\n    },\n    EmailAuthProvider: exp.EmailAuthProvider,\n    FacebookAuthProvider: exp.FacebookAuthProvider,\n    GithubAuthProvider: exp.GithubAuthProvider,\n    GoogleAuthProvider: exp.GoogleAuthProvider,\n    OAuthProvider: exp.OAuthProvider,\n    SAMLAuthProvider: exp.SAMLAuthProvider,\n    PhoneAuthProvider: PhoneAuthProvider,\n    PhoneMultiFactorGenerator: exp.PhoneMultiFactorGenerator,\n    RecaptchaVerifier: RecaptchaVerifier,\n    TwitterAuthProvider: exp.TwitterAuthProvider,\n    Auth,\n    AuthCredential: exp.AuthCredential,\n    Error: FirebaseError\n  }).setInstantiationMode(\"LAZY\" /* InstantiationMode.LAZY */).setMultipleInstances(false));\n  instance.registerVersion(name, version);\n}\nregisterAuthCompat(firebase);\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nFetchProvider.initialize(fetch, Headers, Response);\n"],
  "mappings": "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",
  "names": ["firebase", "name", "app", "_link", "browserSessionPersistence", "key", "storedValue", "browserLocalPersistence", "name", "version", "storage", "PhoneAuthProvider", "_assert", "RecaptchaVerifier"]
}
